(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{288:function(e,t){e.exports={debounce:function(e,t,n){var s;return function(){var o=this,r=arguments,l=function(){s=null,n||e.apply(o,r)},u=n&&!s;clearTimeout(s),s=setTimeout(l,t),u&&e.apply(o,r)}},memoizedDebounce:function(e,t,n,s=(e=>JSON.stringify(e))){var o={};return function(){var r=this,l=arguments,u=s(arguments),i=function(){o[u]=null,n||e.apply(r,l)},a=n&&!o[u];clearTimeout(o[u]),o[u]=setTimeout(i,t),a&&e.apply(r,l)}}}},421:function(e,t,n){"use strict";n.r(t);var s=n(284),o=n(279),r=n(288),l={name:"Form",data(){return{model:this.value}},props:{value:{type:Object,required:!0},currentLang:{type:String,required:!1},readonly:Boolean,errors:Object,moreSlotBindings:Object,fields:{type:Object|Array,required:!0},languages:{type:Array,default(){var e,t;return(null===(e=this.$mapo.$options)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.languages)||[]}},immediate:Boolean},watch:{value(e){JSON.stringify(this.model)!==JSON.stringify(e)&&(this.model=e,this.initLang())},model(e){this.immediate?this.$emit("input",e):this.debouncedEmit("input",e)}},methods:{debouncedEmit:Object(r.debounce)((function(...e){this.$emit(...e)}),300),nameSpacedSlots:s.nameSpacedSlots,initLang(e=this.currentLang){e&&!this.model.translations&&(this.model.translations={}),e&&!this.model.translations[e]&&(this.model.translations[e]={})},parseConf(e,t){const n="string"==typeof e?{value:e}:{...e};return n.value=n.value||"",n.slotName="fields."+(n.value||t),this.isReadonly&&(n.attrs={...n.attrs,readonly:!0}),n},parseGroup:(e,t="mdi-cube-outline")=>"string"==typeof e?{name:e,slug:o.slugify&&Object(o.slugify)(e),icon:t}:{slug:o.slugify&&Object(o.slugify)(e.name),icon:t,...e},parseTabs(e){return Object.keys(e).map(t=>{const n=e[t];return{tab:{label:Object(o.titleCase)(t.replace(/_/," ")),slug:t,...n.tab},fields:this.mapConf(Array.isArray(n)&&n||n.fields||[])}})},parseTagsGroup(e){var t;const n=typeof e.group,s="string"==n&&Object(o.slugify)(e.group)||"object"==n&&Object(o.slugify)(null===(t=e.group)||void 0===t?void 0:t.name)||Object.keys(e.tabs).join("-");return this.parseGroup("string"==n?{...this.parseGroup(e.group,null),slug:s}:{slug:s,...e.group},null)},mapConf(e){return e.map((e,t)=>e.tabs?{...e,group:this.parseTagsGroup(e),tabs:this.parseTabs(e.tabs)}:e.group?{...e,group:this.parseGroup(e.group),fields:this.mapConf(e.fields)}:this.parseConf(e,t))},show(e,t="display"){const n="visibility"==t?"vVisible":"vShow";return"function"!=typeof e[n]||e[n]({model:this.model,errors:this.errors,languages:this.languages,currentLang:this.currentLang})}},computed:{slotBindings(){return{model:this.model,errors:this.errors,currentLang:this.currentLang,langs:this.languages,...this.moreSlotBindings}},computedFields(){return this.mapConf(this.fields)}},created(){this.initLang()}},u=n(1),i=Object(u.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},e._l(e.computedFields,(function(n,s){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show(n),expression:"show(field)"}],key:s,staticClass:"col-12",class:n.class,style:e.show(n,"visibility")?"":"opacity: 0; visibility: hidden;"},[n.tabs?t("FormTabs",e._b({attrs:{conf:n,moreSlotBindings:e.slotBindings},scopedSlots:e._u([e._l(e.nameSpacedSlots(e.$scopedSlots,`group.${n.group.slug}.`),(function(t){return{key:t,fn:function(s){return[e._t(`group.${n.group.slug}.${t}`,null,null,s)]}}}))],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"FormTabs",{currentLang:e.currentLang,errors:e.errors,languages:e.languages,readonly:e.readonly},!1),[e._l(e.nameSpacedSlots(e.$slots,`group.${n.group.slug}.`),(function(s){return t("template",{slot:s},[e._t(`group.${n.group.slug}.${s}`)],2)}))],2):n.group?t("FormGroup",e._b({attrs:{conf:n,moreSlotBindings:e.slotBindings},scopedSlots:e._u([e._l(e.nameSpacedSlots(e.$scopedSlots,`group.${n.group.slug}.`),(function(t){return{key:t,fn:function(s){return[e._t(`group.${n.group.slug}.${t}`,null,null,s)]}}}))],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"FormGroup",{currentLang:e.currentLang,errors:e.errors,languages:e.languages,readonly:e.readonly},!1),[e._l(e.nameSpacedSlots(e.$slots,`group.${n.group.slug}.`),(function(s){return t("template",{slot:s},[e._t(`group.${n.group.slug}.${s}`)],2)}))],2):[e._t(n.slotName+".before",null,null,{conf:n,...e.slotBindings}),e._v(" "),e._t(n.slotName,(function(){return[t("FormField",e._b({attrs:{langs:e.languages,conf:n},scopedSlots:e._u([e._l(e.nameSpacedSlots(e.$scopedSlots,`fields.${n.value}.`),(function(t){return{key:t,fn:function(s){return[e._t(`fields.${n.value}.${t}`,null,null,s)]}}}))],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"FormField",{currentLang:e.currentLang,errors:e.errors,readonly:e.readonly},!1),[e._l(e.nameSpacedSlots(e.$slots,`fields.${n.value}.`),(function(s){return t("template",{slot:s},[e._t(`fields.${n.value}.${s}`)],2)}))],2)]}),null,{conf:n,...e.slotBindings}),e._v(" "),e._t(n.slotName+".after",null,null,{conf:n,...e.slotBindings})]],2)})),0)}),[],!1,null,null,null);t.default=i.exports}}]);