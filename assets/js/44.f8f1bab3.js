(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{288:function(e,a){e.exports={debounce:function(e,a,t){var i;return function(){var s=this,o=arguments,r=function(){i=null,t||e.apply(s,o)},n=t&&!i;clearTimeout(i),i=setTimeout(r,a),n&&e.apply(s,o)}},memoizedDebounce:function(e,a,t,i=(e=>JSON.stringify(e))){var s={};return function(){var o=this,r=arguments,n=i(arguments),l=function(){s[n]=null,t||e.apply(o,r)},d=t&&!s[n];clearTimeout(s[n]),s[n]=setTimeout(l,a),d&&e.apply(o,r)}}}},399:function(e,a,t){},467:function(e,a,t){"use strict";t(399)},546:function(e,a,t){"use strict";t.r(a);var i=t(288),s=t(30),o={name:"MediaManager",data:()=>({tab:0,searchValue:"",loadingSearch:!1}),props:{noFolders:{type:Boolean,default:!1},mime:{type:String,required:!1},fillBackgroud:Boolean},watch:{"$i18n.locale":async function(e){this.editMedia&&this.openEditor(this.editMedia)}},computed:Object(s.c)("mapo/media",["parentFolder","medias","folders","parentFolders","page","pages","loading","editMedia"]),methods:{...Object(s.b)("mapo/media",["getRoot","openEditor","updateMedia","updateOrCreateFolder","deleteFolder","deleteMedia","reset"]),search:Object(i.debounce)((function(){this.getRoot({search:this.searchValue,all:!0}).then(()=>this.loadingSearch=!1)}),500)},async fetch(){this.$store.commit("mapo/media/SET_MIME_TYPE",this.mime||null),await this.getRoot()},mounted(){this.storeUnsubscribe=this.$store.subscribeAction(e=>{var a,t;"mapo/media/getRoot"==e.type&&this.searchValue!=(null===(a=e.payload)||void 0===a?void 0:a.search)&&(this.searchValue=null===(t=e.payload)||void 0===t?void 0:t.search)})},destroyed(){this.reset(),this.storeUnsubscribe&&this.storeUnsubscribe()}},r=(t(467),t(1)),n=Object(r.a)(o,(function(){var e=this,a=e._self._c;return a("div",{staticClass:"media-manager--wrapper"},[e.noFolders?e._e():a("MediaFolders",{directives:[{name:"show",rawName:"v-show",value:!e.editMedia,expression:"!editMedia"}],attrs:{mime:e.mime}}),e._v(" "),a("v-card",{staticClass:"media-manager--v-card",class:{transparent:!e.fillBackgroud,editing:e.editMedia},attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"d-flex flex-wrap pa-0"},[a("div",{staticClass:"d-flex flex-grow-1"},[a("v-tabs",{attrs:{"background-color":"transparent","show-arrows":!1},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[a("v-tab",[e._v(e._s(e.$t("mapo.mediaManager.gallery")))]),e._v(" "),a("v-tab",[e._v(e._s(e.$t("mapo.mediaManager.uploader")))])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.$vuetify.breakpoint.xs,expression:"$vuetify.breakpoint.xs"}],staticClass:"ma-2 ml-auto",attrs:{icon:""},on:{click:e.getRoot}},[a("v-icon",[e._v("mdi-update")])],1)],1),e._v(" "),a("div",{staticClass:"d-flex ma-auto mr-0 pb-2 pb-sm-0",style:e.$vuetify.breakpoint.xs?"width: 100%":""},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!e.editMedia&&0==e.tab,expression:"!editMedia && tab == 0"}],staticClass:"mx-2 mt-2 rounded-0",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.$t("mapo.search"),"single-line":"","hide-details":"",outlined:"",dense:"",clearable:"",loading:e.loadingSearch},on:{input:function(a){e.loadingSearch=!0,e.search()}},model:{value:e.searchValue,callback:function(a){e.searchValue=a},expression:"searchValue"}}),e._v(" "),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}],staticClass:"ma-2 ml-0",attrs:{icon:""},on:{click:e.getRoot}},[a("v-icon",[e._v("mdi-update")])],1)],1)]),e._v(" "),e.loading?a("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),e._v(" "),a("MediaBreadcrumbs"),e._v(" "),a("v-card-text",{staticClass:"media-manager--card-text pa-0"},[a("v-tabs-items",{staticClass:"transparent fill-height",attrs:{touchless:""},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[a("v-tab-item",{staticClass:"fill-height"},[a("MediaGallery",{directives:[{name:"show",rawName:"v-show",value:!e.editMedia,expression:"!editMedia"}]}),e._v(" "),a("MediaEditor")],1),e._v(" "),a("v-tab-item",{staticClass:"fill-height"},[a("MediaUploader",{on:{Upload:function(a){e.tab=0,e.getRoot({page:1})}}})],1)],1)],1),e._v(" "),a("v-card-actions",{staticClass:"pa-0"},[e._t("actions")],2)],1)],1)}),[],!1,null,null,null);a.default=n.exports}}]);