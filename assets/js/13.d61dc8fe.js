(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{405:function(e,t,i){},473:function(e,t,i){"use strict";i(405)},553:function(e,t,i){"use strict";i.r(t);var a={name:"EnhancedMediaField",data:()=>({internalValue:null,editing:!1,childKey:0}),props:{value:Object,label:String,title:{type:String,default:()=>""},errorMessages:{type:String|Array,default:()=>[]},rmAddBtn:{type:Boolean,default:!1},aspectRatio:{type:String|Number,default:void 0},contain:{type:Boolean,default:!1},height:{type:String|Number,default:"100%"},width:{type:String|Number,default:"100%"},maxWidth:{type:String|Number,default:void 0},maxHeight:{type:String|Number,default:void 0},minWidth:{type:String|Number,default:void 0},minHeight:{type:String|Number,default:300},readonly:{type:Boolean,default:!1}},computed:{mediaExists(){var e;return!(null===(e=this.internalValue)||void 0===e||!e.file)},fileInfo(){var e,t,i;return{title:null===(e=this.internalValue)||void 0===e?void 0:e.title,created:new Date(null===(t=this.internalValue)||void 0===t?void 0:t.created).toLocaleDateString(null===(i=this.internalValue)||void 0===i?void 0:i.language_code)}},fileName(){return this.internalValue&&this.internalValue.file&&this.internalValue.file.split("/").pop()}},methods:{update(e){this.updateChild(),this.internalValue=e},confirmDelete(){this.$mapo.$confirm.open({title:this.$t("mapo.remove"),question:this.$t("mapo.mediaField.confirmRemove"),approveButton:{text:this.$t("mapo.remove"),attrs:{color:"red",text:!0}}}).then(e=>e?this.internalValue=null:null)},updateChild(){this.childKey+=1},isImage(e){null!=e&&e.is_image||null==e||!e.mime_type.includes("image")||Object.assign(e,{is_image:!0})}},watch:{value(e){e!==this.internalValue&&(this.internalValue=e)},internalValue(e){this.isImage(e),this.$emit("input",e)}},mounted(){this.internalValue=this.value}},l=(i(473),i(1)),n=Object(l.a)(a,(function(){var e=this,t=e._self._c;return t("div",[e.title?t("v-text-field",e._b({staticClass:"mb-n8 pb-0",attrs:{solo:"",readonly:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},"v-text-field",e.$attrs,!1)):e._e(),e._v(" "),t("v-card",e._b({staticClass:"rounded-0"},"v-card",{height:e.height,width:e.width,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:e.minHeight,...e.$attrs},!1),[e.mediaExists?t("MediaPreview",{key:e.childKey,staticClass:"media-preview",attrs:{media:e.internalValue,"video-preview":!e.internalValue.is_image}}):e._e(),e._v(" "),t("v-card-title",[e._v(e._s(e.label))]),e._v(" "),t("v-card-text",{directives:[{name:"show",rawName:"v-show",value:e.internalValue,expression:"internalValue"}]},[t("h4",[e._v(e._s(e.$t("mapo.fileName"))+":")]),e._v("\n      "+e._s(e.fileName)+"\n      "),t("h4",[e._v(e._s(e.$t("mapo.created"))+":")]),e._v("\n      "+e._s(e.fileInfo.created)+"\n    ")]),e._v(" "),t("v-card-actions",[e.internalValue||e.rmAddBtn?[t("v-row",[t("v-col",{attrs:{align:"center"}},[t("v-btn",{attrs:{disabled:e.readonly,block:""},on:{click:function(t){e.editing=!0}}},[t("v-icon",[e._v("mdi-pencil")])],1)],1),e._v(" "),t("v-col",{attrs:{align:"center"}},[t("v-btn",{attrs:{disabled:e.readonly,color:"error",block:""},on:{click:e.confirmDelete}},[t("v-icon",[e._v("mdi-delete")])],1)],1)],1)]:[t("v-btn",{attrs:{tile:"",disabled:e.readonly,block:"","min-height":e.minHeight},on:{click:function(t){e.editing=!0}}},[t("v-icon",{attrs:{size:"80"}},[e._v(" mdi-plus-circle-outline ")])],1)]],2)],1),e._v(" "),t("media-manager-dialog",e._b({attrs:{select:"single"},on:{selectionChange:e.update},model:{value:e.editing,callback:function(t){e.editing=t},expression:"editing"}},"media-manager-dialog",e.$attrs,!1)),e._v(" "),t("v-messages",{staticClass:"mt-2",attrs:{color:"error"},model:{value:e.errorMessages,callback:function(t){e.errorMessages=t},expression:"errorMessages"}})],1)}),[],!1,null,"b6f2bc92",null);t.default=n.exports}}]);