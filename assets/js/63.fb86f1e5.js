(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{398:function(e,t,i){},466:function(e,t,i){"use strict";i(398)},545:function(e,t,i){"use strict";i.r(t);var a=i(30),l=i(333),s={name:"MediaGallery",components:{draggable:i.n(l).a},computed:{...Object(a.c)("mapo/media",["page","pages","medias","selection","selectMode","loading","editListState","editListSet"]),draggableSelection:{get(){return this.selection},set(e){this.setSelection(e)}},currentPage:{get(){return this.page},set(e){this.getRoot({page:e}).then(()=>{var e;null===(e=this.$refs.masonry)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})})}}},methods:{...Object(a.b)("mapo/media",["getRoot","openEditor","select","setSelection","editSelect","deleteSelected"]),isSelected(e){var t;switch(this.selectMode){case"multi":return-1!==this.selection.findIndex(t=>t.id===e.id);case"single":return(null===(t=this.selection)||void 0===t?void 0:t.id)===e.id;default:return!1}},fileName:e=>e&&e.file&&e.file.split("/").pop()}},n=(i(466),i(1)),c=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"media-gallery--wrapper"},[e.selection&&e.selection.length&&"multi"==e.selectMode?t("draggable",{staticClass:"media-gallery--selection grey darken-2",attrs:{animation:"150"},model:{value:e.draggableSelection,callback:function(t){e.draggableSelection=t},expression:"draggableSelection"}},e._l(e.selection,(function(i){return t("MediaPreview",{key:i.id,staticClass:"elevation-4 media-gallery--selection-item",attrs:{media:i,"icon-size":"20px"},nativeOn:{click:function(t){return t.stopPropagation(),e.select(i)}}})})),1):e._e(),e._v(" "),e.editListSet.size?t("div",{staticClass:"media-gallery--selectAll"},[t("div",{staticClass:"media-gallery--select-action"},[e.editListState.outside?t("v-icon",{attrs:{dense:"",left:"",color:"error"},on:{click:function(t){return e.editSelect("__clear__")}}},[e._v("mdi-close-box-outline")]):e._e(),e._v(" "),t("span",{staticClass:"mr-2"},[e._v(e._s(e.editListSet.size)+"\n        "+e._s(e.$t("mapo.mediaGallery.selectedAssets")))]),e._v(" "),t("v-btn",{attrs:{text:"",small:""},on:{click:e.deleteSelected}},[t("v-icon",{attrs:{left:""}},[e._v("mdi-delete-sweep")]),e._v(" "+e._s(e.$t("mapo.delete")))],1)],1),e._v(" "),t("div",{staticClass:"media-gallery--select-action"},[t("v-checkbox",{attrs:{"hide-details":"",dense:"",color:"accent",label:e.editListState.value?e.$t("mapo.mediaGallery.deselectAll"):e.$t("mapo.mediaGallery.selectAll"),"input-value":e.editListState.value,indeterminate:e.editListState.indeterminate},on:{click:function(t){e.editSelect(e.medias.map(e=>e.id))}}})],1)]):e._e(),e._v(" "),e.medias.length?t("div",{ref:"masonry",staticClass:"media-gallery--masonry"},e._l(e.medias,(function(i){return t("div",{key:i.id,staticClass:"media-gallery--card"},["none"!=e.selectMode?t("v-btn",{staticClass:"media-gallery--card-btn",attrs:{icon:"",small:"",ripple:!1,color:"white"},on:{click:function(t){return t.stopPropagation(),e.openEditor(i)}}},[t("v-icon",[e._v("mdi-circle-edit-outline")])],1):e._e(),e._v(" "),t("v-checkbox",{staticClass:"media-gallery--card-checkbox",attrs:{"hide-details":"",dense:"","input-value":e.editListSet.has(i.id),color:"accent"},on:{click:function(t){return e.editSelect(i.id)}}}),e._v(" "),t("MediaPreview",{staticClass:"elevation-4 cursor-pointer",class:{"media-gallery--selected":e.isSelected(i)},attrs:{media:i,filename:"","video-preview":""},nativeOn:{click:function(t){return e.select(i)}}})],1)})),0):e.loading?t("div",{staticClass:"media-gallery--loading"},[t("v-icon",{attrs:{size:"30"}},[e._v("mdi-timer-sand")]),e._v("\n    "+e._s(e.$t("mapo.fetchingData"))+"\n  ")],1):t("div",{staticClass:"media-gallery--empty"},[t("v-icon",{attrs:{size:"60"}},[e._v(" mdi-image-off-outline ")]),e._v(" "),t("p",[e._v(e._s(e.$t("mapo.mediaGallery.noMediaFound")))])],1),e._v(" "),e.pages>1?t("v-pagination",{staticClass:"mt-2",attrs:{length:e.pages},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)}),[],!1,null,null,null);t.default=c.exports}}]);